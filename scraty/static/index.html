<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Scraty Frontpage</title>
    <link rel="stylesheet" href="css/style.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/w3.css" type="text/css" media="all">
    <link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="../../bower_components/requirejs/require.js" data-main="app/requireConfig" ></script>

    <script type="text/html" id="tasks-tmpl">
        <div class="w3-card-4 w3-light-grey task" data-bind="attr: { id: id }, drag: {value: $data}">
            <header class="w3-container w3-cyan">
                <span data-bind="text: state"></span>
            </header>
            <div class="w3-container">
                <span data-bind="text: text"></span>
            </div>
        </div>
    </script>
  </head>

  <body>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>STORIES</th>
                <th></th>
                <th>Todo</th>
                <th>In Progress</th>
                <th>Verify</th>
                <th>Done</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: stories">
            <tr>
                <td>
                    <span data-bind="text: text"></span>
                    <a href="#" data-bind="click: $root.removeStory">Remove</a>
                </td>
                <td></td>
                <td data-bind="template: { name: 'tasks-tmpl', foreach: todoTasks }, attr: { state: 0 }, drop: {value: $data}" class="state"> </td>
                <td data-bind="template: { name: 'tasks-tmpl', foreach: inProgressTasks }, attr: { state: 1 }, drop: {value: $data}" class="state"></td>
                <td data-bind="template: { name: 'tasks-tmpl', foreach: verifyTasks }, attr: { state: 2 }, drop: {value: $data}" class="state"></td>
                <td data-bind="template: { name: 'tasks-tmpl', foreach: doneTasks }, attr: { state: 3 }, drop: {value: $data}" class="state"></td>
            </tr>
        </tbody>
    </table>
  </body>
</html>
